# Managing state

## Intro

-  Key part of React applications is
   -  Passing data between components
   -  Designing and managing those interfaces well

Next step is a header and toolbar that supports searching and controlling parts of the UI.

-  Header (logo, title, username, sign in/out)
-  Toolbar (year filter, show sessions option, theme option, search)
-  Speakers (collection of SpeakerCard components)

## Setting up components

-  Move the `speakers-list` `<div>` out of `src/index.tsx` into `SpeakersList.tsx` and built a component
-  Create `Speakers` component to get data and render `SpeakersList`
   -  Move `data` import over too.
-  `src/index.tsx` renders `Speakers` component

**COMMIT: 2.0.1 - REFACTOR: move speaker list into separate components**

-  Create a `Header` component (name and sign in/out are stubs for now)
-  Render it in `src/index.tsx`
-  Create a `SpeakersToolbar` component (show sessions switch, theme dropdown)
-  Render it in `src/index.tsx`

Controls aren't active because they have no event handlers

**COMMIT: 2.0.2 - FEAT: add header and toolbar**

## Giving the toolbar local state

-  `props` are passed to a component and component can't change
-  state is declared inside a component and component can change
   -  can be passed to children and affect what they display or how they behave

So, I think we're going to

-  `useState()` to create a couple of state values on the toolbar
-  bind those state variables to the controls in place of hard coded values (true and "light")

And the compiler/Next tells me I'll need handlers of some kind, so let's see what he does. Which means calling the setters.

-  For checkbox, set to `ev.target.checked` (though I suspect I could use `!showSessionsFlag` too)
-  For select, set to `ev.target.value`

Now the controls change, but changing them doesn't do anything.

(I'm not liking how much stuff is in the toolbar, but I'm guessing he's going to break it down more at some point.)

**COMMIT: 2.0.3 - FEAT: make toolbar controls accept input**

## Sharing state between components

State can only pass from parent to child.

For the toolbar controls we have, we need to get the state out so the whole application can see it. Theme affects everything; show sessions affects `SpeakerCard`. (Hmm. No `App`, so maybe it goes on `index.tsx`?)

Oh, I see. He put all the UI controls in `Speakers`, not `index.tsx`. So, moved that and it works. Now let's get to state, which moves to `Speakers`, and pass everything to `SpeakersToolbar`. Add the theme to the containing `<div>` in `Speakers`.

-  He user a ternary which was kind of ugly, so I turned it into a template string.

That's working so far, mostly:

-  `Header` text needs to render a sane color based on theme (so pass `themeName` and style)

Not fixed yet

-  `SpeakersToolbar` background isn't changing
-  `SpeakerCard` background and text needs to change and render sanely
-  Show Sessions toggle doesn't do anything

**COMMIT: 2.0.4 - FEAT: make toolbar control change theme by lifting state to Speakers**
